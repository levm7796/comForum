<? namespace Bitrix\Main;$GLOBALS['____725322366']= array(base64_decode('Zm'.'ls'.'ZV'.'9leG'.'lzdHM='),base64_decode('c'.'3Ry'.'dG91c'.'HB'.'lcg'.'=='),base64_decode('b'.'WQ1'),base64_decode('bWQ1'),base64_decode('aW'.'5f'.'YXJyYXk='),base64_decode('aW5fYXJ'.'yYXk='),base64_decode('a'.'W5fY'.'XJyYXk='),base64_decode('ZGVmaW'.'5lZA='.'='),base64_decode('ZGV'.'maW5lZA=='),base64_decode('ZGV'.'m'.'aW5lZA'.'=='),base64_decode('Z'.'mlsZV9leGlzdH'.'M='),base64_decode('ZmlsZV9leG'.'l'.'zdH'.'M='),base64_decode('Z'.'m'.'l'.'s'.'ZV9leGlz'.'dHM='),base64_decode('Zmls'.'ZV9leG'.'lz'.'dHM='));if(!function_exists(__NAMESPACE__.'\\___1409209291')){function ___1409209291($_565502412){static $_1405063269= false; if($_1405063269 == false) $_1405063269=array(''.'L2'.'JpdHJpeC9'.'saWNlb'.'nN'.'lX2t'.'leS5waH'.'A=','','','REV'.'NT'.'w==','REV'.'NTw==','QklUUkl'.'Y','TE'.'lDRU'.'5DRQ'.'==',''.'REVNTw==',''.'L2t'.'leV9'.'1'.'cGRh'.'dGUucG'.'hwP2'.'xpY2V'.'uc2V'.'f'.'a'.'2V5PQ==','J'.'nRvYmFz'.'a2V0PX'.'kmbGFu'.'Z'.'z0'.'=','cnU=','a3'.'o=','Y'.'nk=','aHR0cH'.'M6Ly'.'9'.'kZX'.'YuMWMtYml0cml4LnJ1L2x'.'lYXJ'.'uaW5n'.'L'.'2NvdXJzZS9pbmRleC'.'5'.'waHA/Q09VUlNFX0lEPTE'.'zN'.'S'.'ZM'.'R'.'VN'.'TT05'.'fSU'.'Q'.'9MjU3MjA=',''.'aHR0'.'cHM6Ly90cmF'.'p'.'b'.'mluZy5ia'.'X'.'RyaXgyNC5jb20vc'.'3V'.'wcG9ydC'.'90cmFpbm'.'luZ'.'y9jb3V'.'yc2Uv'.'aW5k'.'ZXgu'.'cG'.'h'.'wP0NPV'.'V'.'J'.'T'.'RV'.'9JRD0xNzgmT'.'EVTU09OX0lEPTI1OTM'.'yJkxFU'.'1NP'.'Tl9QQ'.'VRIPTE3NTIwL'.'jE3NTYyLjI1'.'OTM'.'wLjI'.'1OT'.'My','cnU=','Y'.'nk=','a3o=','ZGU=','ZXU=','ZnI'.'=','cGw=','a'.'X'.'Q=','dW'.'s=','ZXU=','Y29t','cnU=','REVNTw'.'='.'=','W'.'Q='.'=','VElNR'.'UxJ'.'T'.'UlU'.'X0VESVRJT'.'04=','WQ==',''.'RU'.'5'.'D'.'T'.'0'.'RF','WQ==','U2l'.'0ZU'.'V4'.'cGlyZ'.'UR'.'hdGU=',''.'bW'.'Fp'.'bg==','fnN1'.'cH'.'B'.'vcnRfZmlua'.'XNoX2Rh'.'dGU=','WS1tLWQ'.'=',''.'WS'.'1tLWQ=','Yml0cm'.'l4MjQ=','bW'.'Fp'.'b'.'g==','flBBU'.'kFNX'.'0NM'.'SU'.'VOVF'.'9M'.'QU'.'5H','aW50cmFuZ'.'XQ=','Z'.'W4=',''.'cnU=','bW'.'Fpbg==','dmVuZG9y',''.'dWFfYml0'.'cml'.'4X3Bv'.'cnRhbA==','dWE=','Yml0c'.'ml4X3BvcnRhb'.'A='.'=','ZW4'.'=','M'.'WNfYml'.'0c'.'ml4X3'.'Bvcn'.'RhbA='.'=','c'.'nU=',''.'L2'.'Jp'.'d'.'HJpeC9tb2R1'.'bGV'.'zL21'.'haW4vbGF'.'uZy9'.'1'.'YQ==','dW'.'E=','L2Jp'.'dHJpeC9t'.'b'.'2R1b'.'GVz'.'L21'.'haW'.'4vbGFuZy9ieQ==','Y'.'nk=','L2J'.'pdHJpeC'.'9t'.'b'.'2'.'R1bGVzL2'.'1haW4vbGFuZ'.'y9reg'.'==',''.'a'.'3o=','L'.'2'.'JpdHJpeC9tb2R1bGV'.'z'.'L21haW4'.'vb'.'GFu'.'Zy9yd'.'Q==','cnU=','bWFpbg==','flBBU'.'kFNX1B'.'BUlR'.'ORVJfSUQ=',''.'bWFp'.'bg==','UEFS'.'QU1fTUFYX1V'.'TRVJT','bWFpbg==',''.'fkNPVU5UX0VYVF'.'JB','Tg==','WQ==','ZX'.'h0cmFu'.'ZXQ=',''.'QU'.'5EIFUuT'.'EFTVF9M'.'T0'.'dJT'.'i'.'A'.'+I'.'A==','QU5EIFUuTEFTVF9'.'M'.'T0'.'dJTiBJ'.'UyBOT1QgTl'.'VMT'.'A==','aW50cmFuZXQ=','Cg'.'k'.'J'.'CQlTR'.'UxFQ1Qg'.'Q09VT'.'lQoRElT'.'VElOQ1'.'Qg'.'V'.'S'.'5JRCk'.'K'.'CQk'.'JCUZS'.'T0'.'0KCQk'.'JCQliX3V'.'zZXIgVQoJCQk'.'J'.'CUlOTkV'.'SI'.'Ep'.'PSU4g'.'Yl'.'91c'.'2VyX2Zp'.'ZW'.'xkIEYgT04'.'gRi5FTlRJVFlfSUQgPSAn'.'VVN'.'FUi'.'c'.'gQU5EIEYuRklFTERfTkFNRSA9'.'ICdVRl9'.'ERV'.'BBUlRNRU'.'5U'.'JwoJ'.'CQkJCUlO'.'TkVSIEpPSU4gYl91dG1'.'fdXN'.'lci'.'BVRiBP'.'TgoJCQk'.'JCQl'.'VRi5'.'GSUV'.'MRF9J'.'RCA9IEYuSUQKCQkJ'.'CQkJQU5'.'EIF'.'VGL'.'lZB'.'TFVF'.'X0lE'.'ID'.'0gVS5'.'JRAo'.'J'.'CQkJ'.'CQ'.'lBTkQgVU'.'YuV'.'kFM'.'VUV'.'fSU5'.'U'.'ID4gMAoJCQk'.'JV0h'.'FUkU'.'gVS5BQ1'.'RJVkUgPS'.'AnW'.'S'.'cK'.'CQk'.'JC'.'Qk=','CgkJCQ==',''.'Z'.'Xh0cmFuZXQ=',''.'ZX'.'h0cmFuZXRfZ3JvdXA=','Cg'.'kJCQkJCV'.'N'.'FT'.'E'.'VDV'.'CBDT'.'1VOVCgxKQoJCQ'.'k'.'JCQlG'.'Uk9NCgkJCQk'.'JCQliX3VzZX'.'IgV'.'Qo'.'JC'.'QkJ'.'CQ'.'kJSU5ORV'.'IgSk'.'9J'.'TiBiX'.'3V'.'z'.'ZX'.'JfZ3J'.'vd'.'XAg'.'VUc'.'gT'.'04gVUcuVVNFUl9JRCA9'.'IFUuSUQgQ'.'U'.'5E'.'IFV'.'HLkdST1V'.'QX0'.'l'.'EI'.'D0g','CgkJCQkJ'.'CQlM'.'RUZ'.'U'.'IE'.'p'.'P'.'SU4gK'.'AoJ'.'C'.'QkJCQkJCVNFTE'.'V'.'DVCBV'.'Ri5WQUx'.'VRV9J'.'RC'.'AKCQk'.'JCQkJ'.'CQl'.'GUk9NIAoJ'.'CQkJCQkJC'.'QliX3VzZX'.'JfZml'.'l'.'bGQgR'.'g'.'oJCQ'.'k'.'JCQkJCQ'.'lJT'.'k5FUiBKT0lOIGJf'.'dX'.'RtX3V'.'zZXIgV'.'UYgT'.'04g'.'VUY'.'uRk'.'lFTERf'.'S'.'U'.'QgPSBGLk'.'l'.'EI'.'EFORCBVRi5WQUxV'.'R'.'V9'.'JTlQgPi'.'A'.'w'.'CgkJC'.'Q'.'k'.'JCQkJV'.'0hFUkUg'.'R'.'i5FTl'.'RJV'.'F'.'lfSUQgPSAn'.'VV'.'NFUicgQ'.'U'.'5EIEYuRklFTE'.'R'.'fT'.'kFNR'.'SA9I'.'C'.'dV'.'Rl9ERVBB'.'U'.'lRN'.'RU5UJwoJ'.'CQ'.'k'.'JCQkJKSBE'.'I'.'E9OIEQuV'.'kFMVUVfSU'.'Qg'.'P'.'SBVLk'.'lECgkJCQkJCVd'.'IR'.'VJF'.'IF'.'UuQUNUSVZFID0gJ1k'.'nCg'.'k'.'JCQkJ'.'C'.'Qk=','CgkJC'.'QkJCQl'.'B'.'TkQgRC5WQU'.'xV'.'RV9JR'.'C'.'BJUyBOVU'.'xMC'.'gk'.'JCQkJ');return base64_decode($_1405063269[$_565502412]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_133203716= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_133203716 === null){ $_1318916742= Loader::getDocumentRoot(). ___1409209291(0); $LICENSE_KEY= ___1409209291(1); if($GLOBALS['____725322366'][0]($_1318916742)){ include($_1318916742);} $this->_133203716=($LICENSE_KEY == ___1409209291(2) || $GLOBALS['____725322366'][1]($LICENSE_KEY) == ___1409209291(3)? ___1409209291(4): $LICENSE_KEY);} return $this->_133203716;} public function getHashLicenseKey(): string{ return $GLOBALS['____725322366'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____725322366'][3](___1409209291(5). $this->getKey(). ___1409209291(6));} public function isDemoKey(): bool{ return $this->getKey() == ___1409209291(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___1409209291(8). $this->getHashLicenseKey(). ___1409209291(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_1533581074= $this->getRegion(); if($GLOBALS['____725322366'][4]($_1533581074,[___1409209291(10), ___1409209291(11), ___1409209291(12)])){ return ___1409209291(13);} return ___1409209291(14);} public function getRenewalLink(): string{ $_1533581074= $this->getRegion(); if($GLOBALS['____725322366'][5]($_1533581074,[___1409209291(15), ___1409209291(16), ___1409209291(17), ___1409209291(18)])){ return self::URL_RENEWAL_LICENSE[$_1533581074];} if($GLOBALS['____725322366'][6]($_1533581074,[___1409209291(19), ___1409209291(20), ___1409209291(21), ___1409209291(22), ___1409209291(23)])){ return self::URL_RENEWAL_LICENSE[___1409209291(24)];} return self::URL_RENEWAL_LICENSE[___1409209291(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___1409209291(26)];} public function isDemo(): bool{ return $GLOBALS['____725322366'][7](___1409209291(27)) && DEMO === ___1409209291(28);} public function isTimeBound(): bool{ return $GLOBALS['____725322366'][8](___1409209291(29)) && TIMELIMIT_EDITION === ___1409209291(30);} public function isEncoded(): bool{ return $GLOBALS['____725322366'][9](___1409209291(31)) && ENCODE === ___1409209291(32);} public function getExpireDate():?Date{ $_1062907539= (int)($GLOBALS[___1409209291(33)] ?? min(224,0,74.666666666667)); if($_1062907539>(790-2*395)){ return Date::createFromTimestamp($_1062907539);} return null;} public function getSupportExpireDate():?Date{ $_1062907539= Option::get(___1409209291(34), ___1409209291(35)); if(Date::isCorrect($_1062907539, ___1409209291(36))){ return new Date($_1062907539, ___1409209291(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___1409209291(38))){ return \CBitrix24::getPortalZone();} $_1533581074= Option::get(___1409209291(39), ___1409209291(40)); if(!empty($_1533581074)){ return $_1533581074;} $_1533581074= $this->__1788665538(); if(!empty($_1533581074)){ return $_1533581074;} return $this->__725436241();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___1409209291(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___1409209291(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___1409209291(43)];} private function __1788665538():?string{ $_1172436509= Option::get(___1409209291(44), ___1409209291(45)); if($_1172436509 === ___1409209291(46)){ return ___1409209291(47);} if($_1172436509 === ___1409209291(48)){ return ___1409209291(49);} if($_1172436509 === ___1409209291(50)){ return ___1409209291(51);} return null;} private function __725436241():?string{ $_1156996140= Application::getDocumentRoot(); if($GLOBALS['____725322366'][10]($_1156996140. ___1409209291(52))){ return ___1409209291(53);} if($GLOBALS['____725322366'][11]($_1156996140. ___1409209291(54))){ return ___1409209291(55);} if($GLOBALS['____725322366'][12]($_1156996140. ___1409209291(56))){ return ___1409209291(57);} if($GLOBALS['____725322366'][13]($_1156996140. ___1409209291(58))){ return ___1409209291(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___1409209291(60), ___1409209291(61),(896-2*448));} public function getMaxUsers(): int{ return (int)Option::get(___1409209291(62), ___1409209291(63), min(84,0,28));} public function isExtraCountable(): bool{ return Option::get(___1409209291(64), ___1409209291(65), ___1409209291(66)) === ___1409209291(67) && ModuleManager::isModuleInstalled(___1409209291(68));} public function getActiveUsersCount(Date $_1623408863= null){ $_59986375= Application::getConnection(); if($_1623408863 !== null){  $_358677605= ___1409209291(69).$_59986375->getSqlHelper()->convertToDbDate($_1623408863);} else{  $_358677605= ___1409209291(70);} $_1996133603=(237*2-474); if(ModuleManager::isModuleInstalled(___1409209291(71))){ $_960510249= ___1409209291(72). $_358677605. ___1409209291(73); $_1996133603= (int)$_59986375->queryScalar($_960510249); if($this->isExtraCountable()){ $_1338796210= (int)Option::get(___1409209291(74), ___1409209291(75)); if($_1338796210> min(106,0,35.333333333333)){ $_960510249= ___1409209291(76). $_1338796210. ___1409209291(77). $_358677605. ___1409209291(78); $_1996133603 += (int)$_59986375->queryScalar($_960510249);}}} return $_1996133603;}}?>